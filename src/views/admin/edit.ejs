<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
</head>
<body>
  <%- include('../partials/header') %>
  <main> 
    <h1>Editar producto</h1>

    <% if (typeof errors != 'undefined') { %>
      <ul>
        <% errors.forEach(error =>  { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
        <% } %>

<!-- SOBREESCRIBO CON EL OVERRIDE DEL index.js EL METODO PUT -->
<!-- SE ENVIA COMO POST PERO LLEGA COMO PUT -->
    <form action="/admin/productos/<%= values.id %>?_method=PUT" 
    method="post" 
    enctype="multipart/form-data">

<div>
<label for="nombre">Nombre: </label>
<input 
type="text" 
id="nombre" 
name="nombre" 
value="<% typeof values != 'undefined' ? values.nombre : '' %>"
required
minlength="3"
/>
</div>

<div>
<label for="precio">Precio: </label>
<input 
type="number" 
id="precio" 
name="precio"
value="<% typeof values != 'undefined' ? values.precio : '' %>"
required
min="1"
/>
<div>
    <label for="imagen">Imagen: </label>
    <input 
    type="file" id="imagen" name="imagen" accept="image/*" />
    <div>
      <!-- YA LE INDICO AL USUARIO QUE IMAGEN VA A TENER AHORA PARA EDITAR -->
      <img 
      width="100"
      src="/uploads/productos/producto_<%= values.id %>.jpg" 
      alt="<%= values.nombre %>"
      />
 </div>
 <button translate="submit">Guardar</button>

</form>

  </main>
  <%- include('../partials/footer') %>
</body>
</html>   